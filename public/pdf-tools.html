<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-KHLPKBZD8Z"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-KHLPKBZD8Z");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PDF Tools - PDF SaaS</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #667eea;
        --primary-dark: #5568d3;
        --secondary: #764ba2;
        --success: #10b981;
        --danger: #ef4444;
        --warning: #f59e0b;
        --dark: #1f2937;
        --light: #f9fafb;
        --border: #e5e7eb;
        --text: #374151;
        --text-light: #6b7280;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        background: linear-gradient(135deg, #f6f6f6 0%, #f0f0f0 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      /* Header */
      .header {
        background: transparent;
        border-radius: 16px;
        padding: 24px 32px;
        margin-bottom: 32px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 16px;
      }

      .catchy-title {
        font-size: 48px;
        font-weight: 900;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin-bottom: 60px;
        margin-left: 30px;
      }

      .header h1 {
        font-size: 28px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .header-actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
      }

      .btn-secondary {
        background: rgb(29, 24, 179);
        color: var(--light);
        border: 2px solid rgb(29, 24, 179);
      }

      .btn-secondary:hover {
        background: rgb(22, 16, 196);
        color: white;
      }

      /* Tools Grid */
      .tools-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        grid-auto-rows: 1fr; /* make all rows equal height */
        gap: 20px;
        margin-bottom: 32px;
        align-items: stretch;
      }

      .tool-card {
        position: relative;
        cursor: pointer;
        display: flex; /* allow child to stretch to row height */
        align-items: stretch;
      }

      /* Tool Icon Card */
      .tool-square {
        width: 100%;
        /* allow the card to stretch to the grid row height
           and remain visually balanced; use min-height to
           preserve sensible sizing on small screens */
        min-height: 140px;
        height: 100%;
        background: white;
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        gap: 12px;
        transition: all 0.3s ease;
        padding: 16px;
        text-align: left;
        border: 2px solid transparent;
        flex: 1 1 auto;
      }

      .tool-square:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 24px rgba(102, 126, 234, 0.3);
        border-color: var(--primary);
      }

      .tool-icon {
        border-radius: 12px;
        display: flex;
        align-items: flex-start;
        justify-content: flex-start;
        font-size: 24px;
        color: var(--primary-dark);
        transition: transform 0.3s ease;
      }


      .tool-square:hover .tool-icon {
        transform: scale(1.1);
      }

      .tool-title {
        font-size: 18px;
        font-weight: 700;
        color: var(--dark);
      }

      .tool-description {
        text-align: left;
        font-size: 14px;
        color: var(--dark)
      }
      /* Tool Detail Modal */
      .tool-detail-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 20px;
        animation: fadeIn 0.3s ease;
      }

      .tool-detail-modal.active {
        display: flex;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          transform: translateY(30px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .tool-detail-content {
        background: white;
        border-radius: 20px;
        padding: 40px;
        max-width: 600px;
        width: 100%;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: slideUp 0.3s ease;
        position: relative;
        max-height: 90vh;
        overflow-y: auto;
      }

      .tool-detail-header {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 24px;
        padding-bottom: 20px;
        border-bottom: 2px solid var(--border);
      }

      .tool-detail-icon {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        flex-shrink: 0;
      }

      .tool-detail-title {
        flex: 1;
      }

      .tool-detail-title h2 {
        font-size: 24px;
        color: var(--dark);
        margin: 0;
      }

      .tool-detail-title p {
        color: var(--text-light);
        margin: 4px 0 0 0;
        font-size: 14px;
      }

      .tool-detail-close {
        background: none;
        border: none;
        font-size: 24px;
        color: var(--text-light);
        cursor: pointer;
        padding: 0;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        transition: all 0.2s;
      }

      .tool-detail-close:hover {
        background: var(--light);
        color: var(--dark);
      }

      .tool-card p {
        color: var(--text-light);
        margin-bottom: 24px;
        line-height: 1.6;
      }

      /* Upload Area */
      .upload-area {
        border: 2px dashed var(--border);
        border-radius: 12px;
        padding: 32px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-bottom: 20px;
        background: var(--light);
      }

      .upload-area:hover {
        border-color: var(--primary);
        background: #f3f4f6;
      }

      .upload-area.dragover {
        border-color: var(--primary);
        background: #ede9fe;
      }

      .upload-area i {
        font-size: 48px;
        color: var(--primary);
        margin-bottom: 16px;
      }

      .upload-area p {
        margin: 0;
        color: var(--text);
      }

      .upload-area small {
        color: var(--text-light);
        display: block;
        margin-top: 8px;
      }

      .file-input {
        display: none;
      }

      /* File List */
      .file-list {
        margin-bottom: 20px;
      }

      .file-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 16px;
        background: var(--light);
        border-radius: 8px;
        margin-bottom: 8px;
      }

      .file-info {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .file-info i {
        color: var(--danger);
        font-size: 20px;
      }

      .file-name {
        font-weight: 500;
        color: var(--dark);
      }

      .file-size {
        color: var(--text-light);
        font-size: 13px;
      }

      .remove-file {
        background: none;
        border: none;
        color: var(--text-light);
        cursor: pointer;
        padding: 4px 8px;
        border-radius: 4px;
        transition: all 0.2s;
      }

      .remove-file:hover {
        background: var(--danger);
        color: white;
      }

      /* Form Controls */
      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: var(--dark);
      }

      .form-control {
        width: 100%;
        padding: 12px 16px;
        border: 2px solid var(--border);
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s;
      }

      .form-control:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      select.form-control {
        cursor: pointer;
      }

      input[type="color"] {
        cursor: pointer;
        width: 100%;
        height: 45px;
        border: 2px solid var(--border);
        border-radius: 8px;
        padding: 4px;
      }

      input[type="color"]:focus {
        outline: none;
        border-color: var(--primary);
      }

      input[type="checkbox"] {
        cursor: pointer;
        margin-right: 8px;
      }

      .form-group label {
        display: flex;
        align-items: center;
        cursor: pointer;
      }

      .range-group {
        display: flex;
        align-items: center;
        gap: 16px;
      }

      .range-group input[type="range"] {
        flex: 1;
      }

      .range-value {
        min-width: 50px;
        text-align: center;
        font-weight: 600;
        color: var(--primary);
      }

      /* Buttons */
      .btn-process {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .btn-process:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
      }

      .btn-process:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .btn-process.processing {
        background: var(--text-light);
      }

      /* Loading Spinner */
      .spinner {
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-top: 3px solid white;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Alert Messages */
      .alert {
        padding: 16px 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        display: none;
        align-items: center;
        gap: 12px;
      }

      .alert.show {
        display: flex;
      }

      .alert-success {
        background: #d1fae5;
        color: #065f46;
        border: 1px solid #10b981;
      }

      .alert-error {
        background: #fee2e2;
        color: #991b1b;
        border: 1px solid #ef4444;
      }

      .alert-warning {
        background: #fef3c7;
        color: #92400e;
        border: 1px solid #f59e0b;
      }

      /* Plan Badge */
      .plan-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 18px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        background: linear-gradient(135deg, rgba(29, 24, 179, 0.269), rgba(130, 24, 179, 0.322));
        color: black;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .tools-grid {
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
          gap: 16px;
        }

        .tool-detail-content {
          padding: 24px;
          max-height: 95vh;
        }

        .tool-detail-header {
          flex-direction: column;
          gap: 12px;
        }

        .tool-detail-title {
          margin-bottom: 0;
        }

        .tool-detail-title h2 {
          font-size: 20px;
        }

        .header {
          flex-direction: column;
          align-items: flex-start;
        }

        .header-actions {
          width: 100%;
          justify-content: space-between;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>
          <i class="fas fa-tools"></i>
          PDF Tools
        </h1>
        <div class="header-actions">
          <span class="plan-badge" id="planBadge">
            <i class="fas fa-crown"></i>
            <span id="planName">Loading...</span>
          </span>
          <a href="/dashboard.html" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i>
            Back to Dashboard
          </a>
        </div>
      </div>


      <!-- Catchy Heading title-->
      <h1 class="catchy-title">Your Conversion Toolkit</h1>

      <!-- Update Metadata Modal -->
      <div class="tool-detail-modal" id="updateMetadataModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-info-circle"></i></div>
            <div class="tool-detail-title">
              <h2>Update Metadata</h2>
              <p>Add / modify / delete PDF metadata fields</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('updateMetadata')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="updateMetadataAlert"></div>

          <div class="upload-area" id="updateMetadataUploadArea" onclick="document.getElementById('updateMetadataFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="updateMetadataFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="updateMetadataFileList"></div>

          <div class="form-group">
            <label><input type="checkbox" id="metadataDeleteAll" /> Delete All Metadata</label>
          </div>

          <div class="form-group">
            <label>Author</label>
            <input type="text" id="metadataAuthor" class="form-control" />
          </div>

          <div class="form-group">
            <label>Title</label>
            <input type="text" id="metadataTitle" class="form-control" />
          </div>

          <div class="form-group">
            <label>Subject</label>
            <input type="text" id="metadataSubject" class="form-control" />
          </div>

          <div class="form-group">
            <label>Keywords (comma separated)</label>
            <input type="text" id="metadataKeywords" class="form-control" />
          </div>

          <div class="form-group">
            <label>Custom Params (JSON)</label>
            <textarea id="metadataCustom" class="form-control" rows="4" placeholder='{"customKey1":"customValue1"}'></textarea>
          </div>

          <button class="btn-process" id="updateMetadataBtn" disabled>
            <i class="fas fa-info-circle"></i>
            Update Metadata
          </button>
        </div>
      </div>

      <!-- Unlock Forms Modal -->
      <div class="tool-detail-modal" id="unlockFormsModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-unlock-alt"></i></div>
            <div class="tool-detail-title">
              <h2>Unlock PDF Forms</h2>
              <p>Remove read-only flags from form fields</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('unlockForms')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="unlockFormsAlert"></div>

          <div class="upload-area" id="unlockFormsUploadArea" onclick="document.getElementById('unlockFormsFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="unlockFormsFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="unlockFormsFileList"></div>

          <button class="btn-process" id="unlockFormsBtn" disabled>
            <i class="fas fa-unlock-alt"></i>
            Unlock Forms
          </button>
        </div>
      </div>

      <!-- Show JavaScript Modal -->
      <div class="tool-detail-modal" id="showJsModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-code"></i></div>
            <div class="tool-detail-title">
              <h2>Show JavaScript</h2>
              <p>Extract all JavaScript from the PDF</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('showJs')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="showJsAlert"></div>

          <div class="upload-area" id="showJsUploadArea" onclick="document.getElementById('showJsFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="showJsFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="showJsFileList"></div>

          <button class="btn-process" id="showJsBtn" disabled>
            <i class="fas fa-code"></i>
            Extract JS
          </button>
        </div>
      </div>

      <!-- Scanner Effect Modal -->
      <div class="tool-detail-modal" id="scannerEffectModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fa fa-wrench"></i></div>
            <div class="tool-detail-title">
              <h2>Scanner Effect</h2>
              <p>Apply scanned document effects</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('scannerEffect')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="scannerEffectAlert"></div>

          <div class="upload-area" id="scannerEffectUploadArea" onclick="document.getElementById('scannerEffectFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="scannerEffectFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="scannerEffectFileList"></div>

          <div class="form-group">
            <label>Quality</label>
            <select id="scannerQuality" class="form-control">
              <option value="low">Low</option>
              <option value="medium" selected>Medium</option>
              <option value="high">High</option>
            </select>
          </div>

          <div class="form-group">
            <label>Rotation (degrees)</label>
            <input type="number" id="scannerRotate" class="form-control" value="0" />
          </div>

          <div class="form-group">
            <label>Noise</label>
            <input type="number" step="0.1" id="scannerNoise" class="form-control" value="0" />
          </div>

          <button class="btn-process" id="scannerEffectBtn" disabled>
            <i class="fas fa-wrench"></i>
            Apply Effect
          </button>
        </div>
      </div>

      <!-- Replace / Invert Modal -->
      <div class="tool-detail-modal" id="replaceInvertModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-adjust"></i></div>
            <div class="tool-detail-title">
              <h2>Replace / Invert</h2>
              <p>Invert colors or replace text/background colors</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('replaceInvert')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="replaceInvertAlert"></div>

          <div class="upload-area" id="replaceInvertUploadArea" onclick="document.getElementById('replaceInvertFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="replaceInvertFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="replaceInvertFileList"></div>

          <div class="form-group">
            <label>Option</label>
            <select id="replaceInvertOption" class="form-control">
              <option value="invert">Invert All Colors</option>
              <option value="replace">Replace Colors</option>
              <option value="cmyk">Convert to CMYK</option>
            </select>
          </div>

          <div class="form-group">
            <label>Background Color (decimal 24-bit)</label>
            <input type="text" id="replaceBgColor" class="form-control" placeholder="e.g. 16777215" />
          </div>

          <div class="form-group">
            <label>Text Color (decimal 24-bit)</label>
            <input type="text" id="replaceTextColor" class="form-control" placeholder="e.g. 0" />
          </div>

          <button class="btn-process" id="replaceInvertBtn" disabled>
            <i class="fas fa-adjust"></i>
            Process
          </button>
        </div>
      </div>

      <!-- Repair Modal -->
      <div class="tool-detail-modal" id="repairModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-wrench"></i></div>
            <div class="tool-detail-title">
              <h2>Repair PDF</h2>
              <p>Attempt to repair the PDF with Ghostscript / qpdf / PDFBox</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('repair')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="repairAlert"></div>

          <div class="upload-area" id="repairUploadArea" onclick="document.getElementById('repairFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="repairFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="repairFileList"></div>

          <button class="btn-process" id="repairBtn" disabled>
            <i class="fas fa-wrench"></i>
            Repair PDF
          </button>
        </div>
      </div>

      <!-- Remove Blanks Modal -->
      <div class="tool-detail-modal" id="removeBlanksModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-trash-alt"></i></div>
            <div class="tool-detail-title">
              <h2>Remove Blank Pages</h2>
              <p>Detect and remove blank pages from PDF</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('removeBlanks')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="removeBlanksAlert"></div>

          <div class="upload-area" id="removeBlanksUploadArea" onclick="document.getElementById('removeBlanksFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="removeBlanksFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="removeBlanksFileList"></div>

          <div class="form-group">
            <label>Threshold (integer)</label>
            <input type="number" id="removeBlanksThreshold" class="form-control" value="10" />
          </div>

          <div class="form-group">
            <label>White Percent (0-100)</label>
            <input type="number" id="removeBlanksWhitePercent" class="form-control" value="99" />
          </div>

          <button class="btn-process" id="removeBlanksBtn" disabled>
            <i class="fas fa-trash-alt"></i>
            Remove Blanks
          </button>
        </div>
      </div>

      <!-- OCR Modal -->
      <div class="tool-detail-modal" id="ocrModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-brain"></i></div>
            <div class="tool-detail-title">
              <h2>OCR PDF</h2>
              <p>Process PDF with OCR (Tesseract / OCRmyPDF)</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('ocr')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="ocrAlert"></div>

          <div class="upload-area" id="ocrUploadArea" onclick="document.getElementById('ocrFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="ocrFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="ocrFileList"></div>

          <div class="form-group">
            <label>Languages (comma separated, e.g., eng, deu)</label>
            <input type="text" id="ocrLanguages" class="form-control" placeholder="eng" />
          </div>

          <div class="form-group">
            <label><input type="checkbox" id="ocrSidecar" /> Produce Sidecar</label>
          </div>

          <div class="form-group">
            <label><input type="checkbox" id="ocrDeskew" checked /> Deskew</label>
          </div>

          <div class="form-group">
            <label><input type="checkbox" id="ocrClean" checked /> Clean</label>
          </div>

          <div class="form-group">
            <label><input type="checkbox" id="ocrCleanFinal" checked /> Clean Final</label>
          </div>

          <button class="btn-process" id="ocrBtn" disabled>
            <i class="fas fa-brain"></i>
            Run OCR
          </button>
        </div>
      </div>

      <!-- Flatten Modal -->
      <div class="tool-detail-modal" id="flattenModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-compress"></i></div>
            <div class="tool-detail-title">
              <h2>Flatten PDF</h2>
              <p>Flatten form fields or full pages</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('flatten')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="flattenAlert"></div>

          <div class="upload-area" id="flattenUploadArea" onclick="document.getElementById('flattenFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="flattenFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="flattenFileList"></div>

          <div class="form-group">
            <label><input type="checkbox" id="flattenOnlyForms" checked /> Flatten Only Forms</label>
          </div>

          <button class="btn-process" id="flattenBtn" disabled>
            <i class="fas fa-compress"></i>
            Flatten
          </button>
        </div>
      </div>

      <!-- Extract Images Modal -->
      <div class="tool-detail-modal" id="extractImagesModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon"><i class="fas fa-file-image"></i></div>
            <div class="tool-detail-title">
              <h2>Extract Images</h2>
              <p>Extract images from PDF into a ZIP</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('extractImages')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="extractImagesAlert"></div>

          <div class="upload-area" id="extractImagesUploadArea" onclick="document.getElementById('extractImagesFileInput').click()">
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input type="file" id="extractImagesFileInput" class="file-input" accept=".pdf" />
          <div class="file-list" id="extractImagesFileList"></div>

          <div class="form-group">
            <label>Format</label>
            <select id="extractImagesFormat" class="form-control">
              <option value="png">PNG</option>
              <option value="jpeg">JPEG</option>
              <option value="gif">GIF</option>
            </select>
          </div>

          <div class="form-group">
            <label><input type="checkbox" id="extractImagesAllowDuplicates" /> Allow Duplicates</label>
          </div>

          <button class="btn-process" id="extractImagesBtn" disabled>
            <i class="fas fa-file-image"></i>
            Extract Images
          </button>
        </div>
      </div>

      <!-- Tools Grid -->
      <div class="tools-grid">
        <!-- Merge PDFs -->
        <div class="tool-card" id="mergeTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-object-group"></i>
            </div>
            <div class="tool-title">Merge PDFs</div>
            <p class="tool-description">
              Combine multiple pdf files into one.
            </p>
          </div>
        </div>

        <!-- Compress PDF -->
        <div class="tool-card" id="compressTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-compress-alt"></i>
            </div>
            <div class="tool-title">Compress</div>
            <p class="tool-description">
              Compress your pdf to reduce it's size.
            </p>
          </div>
        </div>

        <!-- PDF to Word -->
        <div class="tool-card" id="pdfToWordTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-file-word"></i>
            </div>
            <div class="tool-title">To Word</div>
            <p class="tool-description">
              Convert your pdf to word.
            </p>
          </div>
        </div>

        <!-- PDF to Image -->
        <div class="tool-card" id="pdfToImageTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-image"></i>
            </div>
            <div class="tool-title">To Image</div>
            <p class="tool-description">
              Convert your pdf to an image.
            </p>
          </div>
        </div>

        <!-- Add Watermark -->
        <div class="tool-card" id="watermarkTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-stamp"></i>
            </div>
            <div class="tool-title">Watermark</div>
            <p class="tool-description">
              Add a watermark to your pdf.
            </p>
          </div>
        </div>

        <!-- Add Password -->
        <div class="tool-card" id="passwordTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-lock"></i>
            </div>
            <div class="tool-title">Password</div>
            <p class="tool-description">
              Password protect your pdf file.
            </p>
          </div>
        </div>

        <!-- Auto Redact -->
        <div class="tool-card" id="autoRedactTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-ban"></i>
            </div>
            <div class="tool-title">Auto Redact</div>
            <p class="tool-description">
              Apply auto redact to your pdf file.
            </p>
          </div>
        </div>

        <!-- Manual Redact -->
        <div class="tool-card" id="manualRedactTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-highlighter"></i>
            </div>
            <div class="tool-title">Manual Redact</div>
            <p class="tool-description">
              Manually redact your pdf file.
            </p>
          </div>
        </div>

        <!-- Sanitize PDF -->
        <div class="tool-card" id="sanitizeTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="tool-title">Sanitize</div>
            <p class="tool-description">
              Sanitize your pdf document.
            </p>
          </div>
        </div>
        <!-- Update Metadata -->
        <div class="tool-card" id="updateMetadataTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-info-circle"></i>
            </div>
            <div class="tool-title">Update Metadata</div>
            <p class="tool-description">
              Update your pdf's metadata.
            </p>
          </div>
        </div>

        <!-- Unlock PDF Forms -->
        <div class="tool-card" id="unlockFormsTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-unlock-alt"></i>
            </div>
            <div class="tool-title">Unlock Forms</div>
            <p class="tool-description">
              Unlock the forms in your pdf.
            </p>
          </div>
        </div>

        <!-- Show JavaScript -->
        <div class="tool-card" id="showJsTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-code"></i>
            </div>
            <div class="tool-title">Show JS</div>
            <p class="tool-description">
              Show the JavaScript code of your pdf.
            </p>
          </div>
        </div>

        <!-- Scanner Effect -->
        <div class="tool-card" id="scannerEffectTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-wrench"></i>
            </div>
            <div class="tool-title">Scanner Effect</div>
            <p class="tool-description">
              Apply scanner effect to your pdf.
            </p>
          </div>
        </div>

        <!-- Replace / Invert -->
        <div class="tool-card" id="replaceInvertTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-adjust"></i>
            </div>
            <div class="tool-title">Replace / Invert</div>
            <p class="tool-description">
              Replace or invert your pdf file.
            </p>
          </div>
        </div>

        <!-- Repair PDF -->
        <div class="tool-card" id="repairTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-wrench"></i>
            </div>
            <div class="tool-title">Repair</div>
            <p class="tool-description">
              Repair your pdf file.
            </p>
          </div>
        </div>

        <!-- Remove Blanks -->
        <div class="tool-card" id="removeBlanksTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-trash-alt"></i>
            </div>
            <div class="tool-title">Remove Blanks</div>
            <p class="tool-description">
              Remove blanks from your pdf file.
            </p>
          </div>
        </div>

        <!-- OCR PDF -->
        <div class="tool-card" id="ocrTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="tool-title">OCR</div>
            <p class="tool-description">
              Apply OCR to your pdf.
            </p>
          </div>
        </div>

        <!-- Flatten -->
        <div class="tool-card" id="flattenTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-compress"></i>
            </div>
            <div class="tool-title">Flatten</div>
            <p class="tool-description">
              Flatten your pdf file.
            </p>
          </div>
        </div>

        <!-- Extract Images -->
        <div class="tool-card" id="extractImagesTool">
          <div class="tool-square">
            <div class="tool-icon">
              <i class="fas fa-file-image"></i>
            </div>
            <div class="tool-title">Extract Images</div>
            <p class="tool-description">
              Extract images from your pdf file.
            </p>
          </div>
        </div>
      </div>

      <!-- Tool Detail Modals -->
      <!-- Merge Modal -->
      <div class="tool-detail-modal" id="mergeModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-object-group"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Merge PDFs</h2>
              <p>Combine multiple PDF files into a single document</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('merge')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="mergeAlert"></div>

          <div
            class="upload-area"
            id="mergeUploadArea"
            onclick="document.getElementById('mergeFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload 2 or more PDF files (max 50MB each)</small>
          </div>

          <input
            type="file"
            id="mergeFileInput"
            class="file-input"
            accept=".pdf"
            multiple
          />

          <div class="file-list" id="mergeFileList"></div>

          <button class="btn-process" id="mergeBtn" disabled>
            <i class="fas fa-magic"></i>
            Merge PDFs
          </button>
        </div>
      </div>

      <!-- Compress Modal -->
      <div class="tool-detail-modal" id="compressModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-compress-alt"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Compress PDF</h2>
              <p>Reduce PDF file size while maintaining quality</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('compress')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="compressAlert"></div>

          <div
            class="upload-area"
            id="compressUploadArea"
            onclick="document.getElementById('compressFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="compressFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="compressFileList"></div>

          <div class="form-group">
            <label>Compression Level</label>
            <select class="form-control" id="compressionLevel">
              <option value="1">Low (Better Quality)</option>
              <option value="2" selected>Medium (Balanced)</option>
              <option value="3">High (Smaller Size)</option>
            </select>
          </div>

          <button class="btn-process" id="compressBtn" disabled>
            <i class="fas fa-compress"></i>
            Compress PDF
          </button>
        </div>
      </div>

      <!-- PDF to Word Modal -->
      <div class="tool-detail-modal" id="pdfToWordModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-file-word"></i>
            </div>
            <div class="tool-detail-title">
              <h2>PDF to Word</h2>
              <p>Convert PDF documents to editable Word files</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('pdfToWord')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="pdfToWordAlert"></div>

          <div
            class="upload-area"
            id="pdfToWordUploadArea"
            onclick="document.getElementById('pdfToWordFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="pdfToWordFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="pdfToWordFileList"></div>

          <button class="btn-process" id="pdfToWordBtn" disabled>
            <i class="fas fa-exchange-alt"></i>
            Convert to Word
          </button>
        </div>
      </div>

      <!-- PDF to Image Modal -->
      <div class="tool-detail-modal" id="pdfToImageModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-image"></i>
            </div>
            <div class="tool-detail-title">
              <h2>PDF to Image</h2>
              <p>Extract pages from PDF as image files</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('pdfToImage')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="pdfToImageAlert"></div>

          <div
            class="upload-area"
            id="pdfToImageUploadArea"
            onclick="document.getElementById('pdfToImageFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="pdfToImageFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="pdfToImageFileList"></div>

          <div class="form-group">
            <label>Image Format</label>
            <select class="form-control" id="imageFormat">
              <option value="png" selected>PNG (Best Quality)</option>
              <option value="jpg">JPG (Smaller Size)</option>
              <option value="gif">GIF</option>
            </select>
          </div>

          <button class="btn-process" id="pdfToImageBtn" disabled>
            <i class="fas fa-images"></i>
            Convert to Images
          </button>
        </div>
      </div>

      <!-- Watermark Modal -->
      <div class="tool-detail-modal" id="watermarkModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-stamp"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Add Watermark</h2>
              <p>Add text watermark to protect your PDF documents</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('watermark')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="watermarkAlert"></div>

          <div
            class="upload-area"
            id="watermarkUploadArea"
            onclick="document.getElementById('watermarkFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="watermarkFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="watermarkFileList"></div>

          <div class="form-group">
            <label>Watermark Text</label>
            <input
              type="text"
              class="form-control"
              id="watermarkText"
              placeholder="CONFIDENTIAL"
              value="CONFIDENTIAL"
            />
          </div>

          <div class="form-group">
            <label
              >Opacity:
              <span class="range-value" id="opacityValue">50%</span></label
            >
            <input
              type="range"
              class="form-control"
              id="watermarkOpacity"
              min="10"
              max="100"
              value="50"
            />
          </div>

          <button class="btn-process" id="watermarkBtn" disabled>
            <i class="fas fa-stamp"></i>
            Add Watermark
          </button>
        </div>
      </div>

      <!-- Password Modal -->
      <div class="tool-detail-modal" id="passwordModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-lock"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Add Password</h2>
              <p>Protect your PDF with password encryption</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('password')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="passwordAlert"></div>

          <div
            class="upload-area"
            id="passwordUploadArea"
            onclick="document.getElementById('passwordFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="passwordFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="passwordFileList"></div>

          <div class="form-group">
            <label>Password</label>
            <input
              type="password"
              class="form-control"
              id="pdfPassword"
              placeholder="Enter password"
              required
            />
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="canPrint" checked />
              Allow Printing
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="canModify" checked />
              Allow Modifications
            </label>
          </div>

          <button class="btn-process" id="passwordBtn" disabled>
            <i class="fas fa-shield-alt"></i>
            Add Password
          </button>
        </div>
      </div>

      <!-- Auto Redact Modal -->
      <div class="tool-detail-modal" id="autoRedactModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-ban"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Auto Redact PDF</h2>
              <p>Automatically redact text based on patterns</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('autoRedact')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="autoRedactAlert"></div>

          <div
            class="upload-area"
            id="autoRedactUploadArea"
            onclick="document.getElementById('autoRedactFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="autoRedactFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="autoRedactFileList"></div>

          <div class="form-group">
            <label>Text to Redact (one per line)</label>
            <textarea
              id="autoRedactText"
              class="form-control"
              rows="4"
              placeholder="Enter text patterns to redact&#10;One pattern per line"
            ></textarea>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="autoRedactUseRegex" />
              Use Regular Expressions
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="autoRedactWholeWord" />
              Whole Word Search Only
            </label>
          </div>

          <div class="form-group">
            <label>Redaction Color</label>
            <input
              type="color"
              id="autoRedactColor"
              class="form-control"
              value="#000000"
            />
          </div>

          <div class="form-group">
            <label>Custom Padding (in pixels)</label>
            <input
              type="number"
              id="autoRedactPadding"
              class="form-control"
              min="0"
              max="50"
              value="0"
              placeholder="0"
            />
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="autoRedactConvertToImage" />
              Convert to Image
            </label>
          </div>

          <button class="btn-process" id="autoRedactBtn" disabled>
            <i class="fas fa-ban"></i>
            Auto Redact PDF
          </button>
        </div>
      </div>

      <!-- Manual Redact Modal -->
      <div class="tool-detail-modal" id="manualRedactModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-highlighter"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Manual Redact PDF</h2>
              <p>Redact specific areas on selected pages</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('manualRedact')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="manualRedactAlert"></div>

          <div
            class="upload-area"
            id="manualRedactUploadArea"
            onclick="document.getElementById('manualRedactFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="manualRedactFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="manualRedactFileList"></div>

          <div class="form-group">
            <label>Pages to Redact</label>
            <input
              type="text"
              id="manualRedactPages"
              class="form-control"
              placeholder="e.g., 1,3,5-9 or all"
              value="all"
            />
            <small style="color: var(--text-light)">
              Supports ranges (1,3,5-9), 'all', or functions (2n+1, 3n, 6n-5)
            </small>
          </div>

          <div class="form-group">
            <label>Redaction Color</label>
            <input
              type="color"
              id="manualRedactColor"
              class="form-control"
              value="#000000"
            />
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="manualRedactConvertToImage" />
              Convert to Image
            </label>
          </div>

          <button class="btn-process" id="manualRedactBtn" disabled>
            <i class="fas fa-highlighter"></i>
            Redact Pages
          </button>
        </div>
      </div>

      <!-- Sanitize PDF Modal -->
      <div class="tool-detail-modal" id="sanitizeModal">
        <div class="tool-detail-content">
          <div class="tool-detail-header">
            <div class="tool-detail-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="tool-detail-title">
              <h2>Sanitize PDF</h2>
              <p>Remove potentially dangerous elements from PDF</p>
            </div>
            <button class="tool-detail-close" onclick="closeTool('sanitize')">
              <i class="fas fa-times"></i>
            </button>
          </div>

          <div class="alert alert-error" id="sanitizeAlert"></div>

          <div
            class="upload-area"
            id="sanitizeUploadArea"
            onclick="document.getElementById('sanitizeFileInput').click()"
          >
            <i class="fas fa-cloud-upload-alt"></i>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <small>Upload a PDF file (max 50MB)</small>
          </div>

          <input
            type="file"
            id="sanitizeFileInput"
            class="file-input"
            accept=".pdf"
          />

          <div class="file-list" id="sanitizeFileList"></div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="sanitizeRemoveJavaScript" checked />
              Remove JavaScript
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="sanitizeRemoveEmbeddedFiles" checked />
              Remove Embedded Files
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="sanitizeRemoveXMPMetadata" checked />
              Remove XMP Metadata
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="sanitizeRemoveMetadata" checked />
              Remove Document Info Metadata
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="sanitizeRemoveLinks" />
              Remove Links
            </label>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="sanitizeRemoveFonts" />
              Remove Fonts
            </label>
          </div>

          <button class="btn-process" id="sanitizeBtn" disabled>
            <i class="fas fa-shield-alt"></i>
            Sanitize PDF
          </button>
        </div>
      </div>

    <script>
      // Authentication check
      const token = localStorage.getItem("token");
      if (!token) {
        window.location.href = "/login.html";
      }

      let userPlan = null;
      let mergeFiles = [];
      let compressFile = null;
      let pdfToWordFile = null;
      let pdfToImageFile = null;
      let watermarkFile = null;
      let passwordFile = null;
      let autoRedactFile = null;
      let manualRedactFile = null;
      let sanitizeFile = null;

      // Load user subscription
      async function loadSubscription() {
        try {
          const response = await fetch("/api/subscription/current", {
            headers: {
              Authorization: `Bearer ${token}`,
            },
          });

          const data = await response.json();
          if (data.success) {
            userPlan = data.data.subscription.plan_slug;
            document.getElementById("planName").textContent =
              data.data.subscription.plan_name;
          }
        } catch (error) {
          console.error("Error loading subscription:", error);
        }
      }

      // Format file size
      function formatFileSize(bytes) {
        if (bytes === 0) return "0 Bytes";
        const k = 1024;
        const sizes = ["Bytes", "KB", "MB", "GB"];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return (
          Math.round((bytes / Math.pow(k, i)) * 100) / 100 + " " + sizes[i]
        );
      }

      // Show alert
      function showAlert(elementId, message, type = "error") {
        const alert = document.getElementById(elementId);
        alert.className = `alert alert-${type} show`;
        alert.innerHTML = `<i class="fas fa-${
          type === "error" ? "exclamation-circle" : "check-circle"
        }"></i> ${message}`;
        setTimeout(() => {
          alert.classList.remove("show");
        }, 5000);
      }

      // Download file
      function downloadFile(blob, filename) {
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        window.URL.revokeObjectURL(url);
        document.body.removeChild(a);
      }

      // Initialize on page load
      loadSubscription();

      // Tool Modal Management
      const toolMap = {
        mergeTool: "mergeModal",
        compressTool: "compressModal",
        pdfToWordTool: "pdfToWordModal",
        pdfToImageTool: "pdfToImageModal",
        watermarkTool: "watermarkModal",
        passwordTool: "passwordModal",
        autoRedactTool: "autoRedactModal",
        manualRedactTool: "manualRedactModal",
        sanitizeTool: "sanitizeModal",
        updateMetadataTool: "updateMetadataModal",
        unlockFormsTool: "unlockFormsModal",
        showJsTool: "showJsModal",
        scannerEffectTool: "scannerEffectModal",
        replaceInvertTool: "replaceInvertModal",
        repairTool: "repairModal",
        removeBlanksTool: "removeBlanksModal",
        ocrTool: "ocrModal",
        flattenTool: "flattenModal",
        extractImagesTool: "extractImagesModal",
      };

      Object.entries(toolMap).forEach(([toolId, modalId]) => {
        const toolElement = document.getElementById(toolId);
        if (toolElement) {
          toolElement.addEventListener("click", () => {
            document.getElementById(modalId).classList.add("active");
          });
        }
      });

      // Close modal functions
      function closeTool(toolName) {
        const modalMap = {
          merge: "mergeModal",
          compress: "compressModal",
          pdfToWord: "pdfToWordModal",
          pdfToImage: "pdfToImageModal",
          watermark: "watermarkModal",
          password: "passwordModal",
          autoRedact: "autoRedactModal",
          manualRedact: "manualRedactModal",
          sanitize: "sanitizeModal",
        };
        const modal = document.getElementById(modalMap[toolName]);
        if (modal) modal.classList.remove("active");
      }

      // Close modal on outside click
      document.querySelectorAll(".tool-detail-modal").forEach((modal) => {
        modal.addEventListener("click", (e) => {
          if (e.target === modal) {
            modal.classList.remove("active");
          }
        });
      });
    </script>

    <!-- PDF Tools JavaScript -->
    <script src="/js/pdf-tools.js"></script>
  </body>
</html>
